!function(){var n=function(n,t,i){this.elementHeight=0,this.container=document.body,this.loading=!1;var e=this;n.$on("$destroy",function(){u()});var o=function(){return e.container.scrollTop},r=function(){return e.container.scrollHeight},l=function(){return Math.min(screen.height,Math.max(e.container.clientHeight,screen.height))},c=function(){return e.container.scrollHeight>l()},a=function(n){return o()+l()>r()-l()*(n/100)},u=function(){angular.element(e.container==document.body?window:e.container).unbind("scroll")};this.loadOnScroll=function(n,t){angular.element(e.container==document.body?window:e.container).bind("scroll",function(){a(t)&&!e.loading&&e.loadData(n)})},this.loadData=function(o){e.loading=!0,t.when(n.infiniteScroll(),function(){i(function(){var n=o.clientHeight;c(o)||n==e.elementHeight||(e.elementHeight=n,e.loadData(o)),e.loading=!1},0)})}};n.$inject=["$scope","$q","$timeout"];var t=function(){return link=function(n,t,i,e){var o=parseInt(n.scrollDistance);(!angular.isNumber(o)||isNaN(o))&&(o=10),angular.isString(n.scrollContainer)&&(e.container=document.getElementById(n.scrollContainer)),e.loadData(t[0]),e.loadOnScroll(t[0],o)},{scope:{infiniteScroll:"&",scrollDistance:"=",scrollContainer:"="},controller:n,controllerAs:"vm",restrict:"AEC",link:link}};angular.module("infinite-scroll",[]).directive("infiniteScroll",t)}();