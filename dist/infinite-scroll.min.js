!function(){var n=function(n,t,o){this.elementHeight=0,this.container=document.body,this.loading=!1;var e=this;n.$on("$destroy",function(){u()});var i=function(){return e.container.scrollTop},r=function(){return e.container.scrollHeight},l=function(){return Math.min(screen.height,Math.max(e.container.clientHeight,screen.height))},c=function(){return e.container.scrollHeight>l()},a=function(n){return i()+l()>r()-l()*(n/100)},u=function(){angular.element(e.container==document.body?window:e.container).unbind("scroll")};this.loadOnScroll=function(n,t){angular.element(e.container==document.body?window:e.container).bind("scroll",function(){a(t)&&!e.loading&&e.loadData(n)})},this.loadData=function(i){e.loading=!0,t.when(n.loadMore(),function(){o(function(){var n=i.clientHeight;c(i)||n==e.elementHeight||(e.elementHeight=n,e.loadData(i)),e.loading=!1},0)})}};n.$inject=["$scope","$q","$timeout"];var t=function(){return link=function(n,t,o,e){var i=parseInt(n.scrollDistance);(!angular.isNumber(i)||isNaN(i))&&(i=10),angular.isString(n.scrollContainer)&&(e.container=document.getElementById(n.scrollContainer)),e.loadData(t[0]),e.loadOnScroll(t[0],i)},{scope:{loadMore:"&",scrollDistance:"=",scrollContainer:"="},controller:n,controllerAs:"vm",restrict:"AEC",link:link}};angular.module("infinite-scroll",[]).directive("infiniteScroll",t)}();